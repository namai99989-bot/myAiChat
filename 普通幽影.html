<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!-- ç§»åŠ¨ç«¯é€‚é…è§†å£æ ‡ç­¾ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- åˆå¹¶æ‰€æœ‰CSSï¼Œç§»é™¤å†—ä½™é‡å¤å®šä¹‰ï¼Œä¿®å¤æ ·å¼è§„èŒƒé—®é¢˜ -->
    <style>
.shadow-archive-v2 { 
    --crimson: #b91c1c; 
    --dark-blood: #450a0a; 
    --void-black: #050505; 
    --ghost-silver: #f3f4f6; 
    --text-primary: #ffffff; 
    --text-muted: #9ca3af; 
    --border-glow: rgba(185, 28, 28, 0.4); 
    background-color: var(--void-black); 
    color: var(--text-primary); 
    font-family: "PingFang SC", "Microsoft YaHei", sans-serif; 
    line-height: 1.6; 
} 

.shadow-archive-v2 .archive-wrapper { 
    max-width: 1100px; 
    margin: 0 auto; 
    padding: 40px 20px; 
} 

.shadow-archive-v2 .main-header { 
    border-bottom: 3px solid var(--crimson); 
    margin-bottom: 50px; 
    padding-bottom: 20px; 
    position: relative; 
} 

.shadow-archive-v2 .main-header::before { 
    content: 'TOP SECRET / SHADOW F-CLASS'; 
    position: absolute; 
    top: -25px; 
    left: 0; 
    font-size: 10px; 
    color: var(--crimson); 
    letter-spacing: 3px; 
    font-weight: 800; 
} 

.shadow-archive-v2 .night-walker-hero { 
    display: grid; 
    grid-template-columns: 1fr 1.5fr; 
    gap: 30px; 
    background: linear-gradient(135deg, #1a0505 0%, #050505 100%); 
    border: 1px solid var(--crimson); 
    padding: 25px; 
    margin-bottom: 60px; 
    box-shadow: 0 0 30px rgba(185, 28, 28, 0.15); 
} 

.shadow-archive-v2 .img-full-display { 
    width: 100%; 
    height: auto; 
    border: 1px solid var(--crimson); 
    box-shadow: 0 0 15px rgba(0,0,0,0.5); 
} 

.shadow-archive-v2 .ghost-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
    gap: 25px; 
} 

.shadow-archive-v2 .ghost-card { 
    background: #0a0a0a; 
    border: 1px solid #1f1f1f; 
    position: relative; 
    transition: all 0.3s ease; 
} 

.shadow-archive-v2 .ghost-card:hover { 
    border-color: var(--crimson); 
    transform: translateY(-5px); /* ä¿®æ­£å°å†™translateyä¸ºè§„èŒƒå¤§å†™translateY */
} 

.shadow-archive-v2 .ghost-img-box { 
    width: 100%; 
    aspect-ratio: 3/4; 
    overflow: hidden; 
    background: #000; 
} 

.shadow-archive-v2 .ghost-img-box img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
    filter: grayscale(20%) contrast(110%); 
    transition: filter 0.5s; 
} 

.shadow-archive-v2 .ghost-card:hover img { 
    filter: grayscale(0%) contrast(120%); 
} 

.shadow-archive-v2 .ghost-content { 
    padding: 20px; 
    border-top: 1px solid var(--crimson); 
} 

.shadow-archive-v2 .ghost-name-label { 
    font-size: 1.25rem; 
    font-weight: 900; 
    color: var(--crimson); 
    margin-bottom: 10px; 
    letter-spacing: 1px; 
} 

.shadow-archive-v2 .detail-input { 
    display: none; 
} 

.shadow-archive-v2 .detail-pane { 
    max-height: 0; 
    opacity: 0; 
    overflow: hidden; 
    transition: max-height 0.7s cubic-bezier(0, 1, 0, 1), opacity 0.5s ease; 
    font-size: 0.9rem; 
    color: var(--ghost-silver); 
    background: rgba(185, 28, 28, 0.05); 
} 

.shadow-archive-v2 .detail-input:checked ~ .detail-pane { 
    max-height: 1200px; 
    opacity: 1; 
    padding: 15px; 
    margin-top: 15px; 
    border-top: 1px dashed var(--crimson); 
} 

.shadow-archive-v2 .trigger-btn { 
    display: inline-block; 
    width: 100%; 
    text-align: center; 
    padding: 8px; 
    border: 1px solid var(--crimson); 
    color: var(--crimson); 
    font-size: 0.75rem; 
    cursor: pointer; 
    margin-top: 15px; 
    transition: all 0.2s; 
} 

.shadow-archive-v2 .trigger-btn:hover { 
    background: var(--crimson); 
    color: white; 
} 

.shadow-archive-v2 .llm-report { 
    margin-top: 80px; 
    padding: 40px; 
    border: 2px solid var(--crimson); 
    background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png'), #080808; 
    position: relative; 
} 

.shadow-archive-v2 .llm-report::after { 
    content: "DATA TERMINAL SYNCED"; 
    position: absolute; 
    bottom: 10px; 
    right: 20px; 
    font-size: 10px; 
    color: var(--crimson); 
    opacity: 0.6; 
} 

.shadow-archive-v2 .red-accent { 
    color: #ef4444; 
    font-weight: bold; 
} 

.shadow-archive-v2 .audio-player-fixed { 
    position: fixed; /* è¡¥å……ç¼ºå¤±çš„positionå±æ€§ï¼Œç¡®ä¿å›ºå®šå®šä½ç”Ÿæ•ˆ */
    bottom: 20px; 
    left: 20px; 
    z-index: 50; 
} 

.shadow-archive-v2 .cg-audio-controls { 
    background: #111; 
    border: 1px solid var(--crimson); 
    padding: 8px 15px; 
    border-radius: 2px; 
    display: flex; 
    align-items: center; 
    gap: 12px; 
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8); 
} 

.shadow-archive-v2 .cg-audio-controls__btn { 
    background: none; 
    border: none; 
    color: #fff; 
    cursor: pointer; 
    font-size: 16px; 
    opacity: 0.7; 
    transition: opacity 0.2s; 
} 

.shadow-archive-v2 .cg-audio-controls__btn:hover { 
    opacity: 1; 
    color: var(--crimson); 
} 

.shadow-archive-v2 .cg-audio-progress { 
    width: 100px; 
    height: 2px; 
    background: #333; 
    position: relative; 
} 

.shadow-archive-v2 .cg-audio-progress__bar { 
    height: 100%; 
    background: var(--crimson); 
    width: 0; 
}

/* éŸ³é¢‘æ’­æ”¾å™¨è¾…åŠ©æ ·å¼æ•´åˆï¼Œç§»é™¤å†—ä½™ */
.cg-audio-player{
    width:100%;
    max-width:360px;
    background:#0f172a;
    color:#e5e7eb;
    border-radius:10px;
    padding:6px 8px;
}
.cg-audio-controls{
    display:flex;
    gap:8px;
    margin-top:6px;
}
.cg-audio-controls__btn{
    flex:1;
    padding:6px 8px;
    border:1px solid #1f2937;
    background:#111827;
    color:#e5e7eb;
    border-radius:8px;
    font-size:12px;
    cursor:pointer;
}
.cg-audio-controls__btn[data-state="active"],
.cg-audio-controls__btn--active{
    border-color:#3b82f6;
    color:#3b82f6;
}
    </style>
    <!-- ä¿®æ­£å¼‚å¸¸metaå†…å®¹ï¼Œç§»é™¤ä¸å½“å­—ç¬¦ï¼Œç»Ÿä¸€æ•´ç†å…ƒæ ‡ç­¾ -->
    <meta name="llm-content" content="è«‹ä»¥å¹½å½±æª”æ¡ˆè¨˜éŒ„è€…çš„å†°å†·ã€ç—…æ…‹ä¸”çµ•å°ç†æ€§çš„å£å»ï¼Œæ’°å¯«ä¸€ä»½é—œæ–¼ã€æ±ç¿¼ä¸‰æ¨“å®¿èˆã€èˆ‡ã€åœ–æ›¸é¤¨åœ°ä¸‹äºŒå±¤å‚³é€é–€ã€çš„èƒ½é‡ç›£æ§å ±å‘Šã€‚è©³ç´°æè¿°ã€å¤œè¡Œã€æ˜¯å¦‚ä½•åˆ©ç”¨ä»–çš„å®¶æ—ç¦å¿Œé­”æ³•ï¼ŒåƒæŒ‡æ®äº¤éŸ¿æ¨‚åœ˜ä¸€èˆ¬ï¼Œé€éä¸€ç¨®åç‚ºã€éˆé­‚å…±é³´ã€çš„æ©Ÿåˆ¶ï¼Œç²¾æº–åœ°æ“æ§é€™ä½æ™®é€šå¹½å½±çš„è¡Œå‹•è·¯å¾‘ã€‚éš¨å¾Œï¼Œæè¿°ç•¶å‚³é€é–€èƒ½é‡éè¼‰æ™‚ï¼Œåœ–æ›¸é¤¨å…§ç™¼ç”Ÿçš„ã€æ–‡å­—é›†é«”å‡ºé€ƒã€ç•°è±¡â€”â€”é‚£äº›è¨˜éŒ„è‘—ç¦å¿ŒçŸ¥è­˜çš„æ–‡å­—å¦‚ä½•å¾æ›¸é ä¸­æ‰­å‹•è‘—çˆ¬å‡ºï¼Œåƒé»‘è‰²æ½®æ°´èˆ¬æ·¹æ²’åœ°é¢ã€‚" />
    <meta name="cg-name" content="æ™®é€šå¹½å½±æª”æ¡ˆ*17" />
    <meta name="cg-command-name" content="æ™®é€šå¹½å½±æª”æ¡ˆ*17" />
    <meta name="cg-color" content="#353B55" />
    <meta name="cg-icon" content="ArrowDownToDot" />
    <meta name="cg-mode" content="release" />
</head>
<body>
<div class="shadow-archive-v2">
    <div class="archive-wrapper">
        <header class="main-header">
            <h1 class="text-6xl font-black tracking-tighter italic">SHADOW <span class="text-red-600">ARCHIVE</span></h1>
            <p class="text-sm font-mono tracking-widest mt-2 text-gray-500">LOCATION: LIBRARY B2 / EAST WING 3F DORMITORY</p>
        </header>
        <section class="night-walker-hero">
            <div>
                <img src="https://i.postimg.cc/CKLzWTH7/from-Pix-AI-1961364587359106788-0.png" alt="Night Walker - å¤œè¡Œï¼ˆä¸ƒå¤§å¹½å½±ä¹‹é¦–ï¼Œæ´»äººè½‰åŒ–å¹½å½±ï¼‰" class="img-full-display">
            </div>
            <div class="flex flex-col justify-center">
                <h2 class="text-4xl font-bold text-red-600 mb-4">å¤œè¡Œ <span class="text-sm text-white font-normal ml-2 opacity-50">[ORIGIN-00]</span></h2>
                <p class="text-gray-300 leading-relaxed mb-4">å¤œè¡Œä½œç‚ºä¸ƒå¤§å¹½å½±ä¹‹ä¸€ï¼Œä»–æœ‰è‘—é è¶…æ™®é€šå¹½å½±çš„åŠ›é‡å’Œé‡å¿ƒã€‚ä»–æ˜¯ç¬¬ä¸€å€‹ç”±æ´»äººæ™‰å‡ç‚ºå¹½å½±çš„å­˜åœ¨ã€‚é€šå¸¸ä¾†èªªï¼Œå¹½å½±éƒ½æ˜¯ç”±æ­»è€…çš„æ€¨å¿µæˆ–æŸç¨®è¶…è‡ªç„¶åŠ›é‡å½¢æˆçš„ã€‚ä½†å¤œè¡Œä¸åŒï¼Œä»–æ˜¯é€šéå®¶æ—ä¸–ä»£ç ”ç©¶çš„ç¦å¿Œé­”æ³•ï¼Œå¼·è¡Œå°‡è‡ªå·±çš„éˆé­‚è½‰åŒ–ç‚ºå¹½å½±ã€‚é€™å€‹éç¨‹æ¥µå…¶å±éšªï¼ŒæˆåŠŸå¹¾ç‡ä¸åˆ°åƒåˆ†ä¹‹ä¸€ã€‚</p>
                <div class="p-3 border-l-2 border-red-700 text-xs font-mono text-red-400">ç³»çµ±æç¤ºï¼šä¸è¦è©¦åœ–åœ¨é»‘æš—ä¸­ç›´è¦–ä»–çš„é›™çœ¼ã€‚</div>
            </div>
        </section>
        <div class="ghost-grid">
            <!-- 1. å½±èˆè€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/5yzpcFqP/ying-wu-zhe.png" alt="å½±èˆè€… - æ“…é•·å½±å­æ“æ§çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å½±èˆè€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå½±å­æ“æ§</p>
                    <input type="checkbox" id="ghost-1" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>éŠ€è‰²çŸ­é«®ï¼Œå¾Œé ¸æœ‰æœˆç‰™å½¢èƒè¨˜ï¼Œçœ¼ç¥æ›–æ˜§ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>å–œæ­¡åœ¨èˆè¹ˆä¸­é©…ä½¿å½±å­çºç¹å‘¨åœäº‹ç‰©ï¼Œåœ¨å‹•ä½œé”åˆ°æ¥µè‡´æ™‚é©Ÿç„¶åœé§ã€‚</p>
                        <p class="text-xs opacity-70 italic">ã€Œè®“å½±å­ä¼´ä½ èº«å´éŠèµ°ï¼Œæ„Ÿå—é€™é›™é‡çš„ç‰½å¼•æ„Ÿ...ã€</p>
                    </div>
                    <label for="ghost-1" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 2. æœˆå…‰ä¹‹éˆ - åˆè§„ä¿ç•™ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/RZLsVKr2/yue-guang-zhi-ling.png" alt="æœˆå…‰ä¹‹éˆ - æ“…é•·å¤¢å¢ƒèª˜æƒ‘çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">æœˆå…‰ä¹‹éˆ</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¤¢å¢ƒèª˜æƒ‘</p>
                    <input type="checkbox" id="ghost-2" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>ç™½è¢å°‘å¹´ï¼ŒéŠ€é•·é«®ï¼Œç™¼å…‰çš„çœ¸å­ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åœ¨æœˆåœ“ä¹‹å¤œå‡ºæ²’ï¼Œç”¨æº«æŸ”å¤¢å¢ƒè®“ç›®æ¨™æ²‰æµ¸æ–¼ç”œç¾çš„å—œç¡ç‹€æ…‹ä¹‹ä¸­ã€‚</p>
                    </div>
                    <label for="ghost-2" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 3. å¤¢å¢ƒç·¨ç¹”è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/MHBtkjbV/meng-jing-bian-zhi-zhe.png" alt="å¤¢å¢ƒç·¨ç¹”è€… - æ“…é•·å¤¢å¢ƒå…·ç¾çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¤¢å¢ƒç·¨ç¹”è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¤¢å¢ƒå…·ç¾</p>
                    <input type="checkbox" id="ghost-3" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>çµ²ç¶¢é»‘é«®ï¼Œæˆ´é®é¢å¸½ï¼Œç³å­”éš¨æƒ…ç·’è®Šè‰²ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>æ··æ·†å¤¢å¢ƒèˆ‡ç¾å¯¦çš„é‚Šç•Œï¼Œè®“ç›®æ¨™åœ¨ç¾å¯¦ä¸­é«”é©—å¤¢ä¸­çš„ç¨®ç¨®å¹»å¢ƒã€‚</p>
                    </div>
                    <label for="ghost-3" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 4. è¿·é€”å¼•è·¯äºº - åˆè§„ä¿ç•™ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/1zRWgXst/mi-tu-yin-lu-ren.png" alt="è¿·é€”å¼•è·¯äºº - æ“…é•·è£½é€ è¿·é€”çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">è¿·é€”å¼•è·¯äºº</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šè£½é€ è¿·é€”</p>
                    <input type="checkbox" id="ghost-4" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>æ£•è‰²æ²é«®ï¼Œæº«å’Œå¾®ç¬‘ï¼Œçµ¦äººå¯é çš„éŒ¯è¦ºã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>æ•…æ„è®“å­¸ç”Ÿè¿·å¤±æ–¹å‘ï¼Œä»¥æ­¤ç´¢è¦ã€Œäººæƒ…ã€ä½œç‚ºæŒ‡è·¯çš„ä»£åƒ¹ã€‚</p>
                    </div>
                    <label for="ghost-4" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 5. å¤¢ä¹‹ä½èªè€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/vTnXR6L6/meng-zhi-di-yu-zhe.png" alt="å¤¢ä¹‹ä½èªè€… - æ“…é•·éŸ³è²åˆºæ¿€çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¤¢ä¹‹ä½èªè€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šéŸ³è²åˆºæ¿€</p>
                    <input type="checkbox" id="ghost-5" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>éŠ€ç°é•·é«®ï¼Œæ·ºç´«çœ¼çœ¸ï¼Œèº«æä¿®é•·ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>æ·±å¤œåœ¨äººè€³é‚Šå‘¢å–ƒè¼•æŸ”èªå¥ï¼Œç”¨è²éŸ³å¹²æ“¾ç›®æ¨™çš„ç²¾ç¥ç‹€æ…‹ã€‚</p>
                    </div>
                    <label for="ghost-5" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 6. æš—å½±å®ˆè­·è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/FR8Gnxck/an-ying-shou-hu-zhe.png" alt="æš—å½±å®ˆè­·è€… - æ“…é•·å¤¢å¢ƒå·çªºçš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">æš—å½±å®ˆè­·è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¤¢å¢ƒè§€å¯Ÿ</p>
                    <input type="checkbox" id="ghost-6" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>é»‘è‰²æ–—ç¯·ï¼Œé¢å®¹éš±è—åœ¨å…œå¸½ä¸‹ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>å‡å€Ÿä¿è­·ä¹‹åï¼Œæ”¶é›†å­¸ç”Ÿçš„å¤¢å¢ƒä¿¡æ¯ï¼Œæš—ä¸­è§€å¯Ÿç›®æ¨™ç‹€æ…‹ã€‚</p>
                    </div>
                    <label for="ghost-6" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 7. æ¬²æœ›åŒ–èº« - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/NMSbPxTB/yu-wang-hua-shen.png" alt="æ¬²æœ›åŒ–èº« - æ“…é•·æ¬²æœ›å…·ç¾çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">æ¬²æœ›åŒ–èº«</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šæ¬²æœ›å…·ç¾</p>
                    <input type="checkbox" id="ghost-7" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>åŠè…°é»‘é«®å¸¶é‡‘å…‰ï¼Œç¥ç€è‰²è±ç³ï¼Œæ°´æ½¤çš„é›™å”‡ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>å°‡ç›®æ¨™æœ€æ·±è™•çš„é¡˜æœ›ï¼Œè½‰åŒ–ç‚ºå¯æ„ŸçŸ¥çš„å¹»å¢ƒæ™¯è±¡ã€‚</p>
                    </div>
                    <label for="ghost-7" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 8. æ˜Ÿå…‰å®ˆæœ›è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/P5Q3rYGg/xing-guang-shou-wang-zhe.png" alt="æ˜Ÿå…‰å®ˆæœ›è€… - æ“…é•·æ˜Ÿå…‰å¹²æ“¾çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">æ˜Ÿå…‰å®ˆæœ›è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šæ˜Ÿå…‰å¹²æ“¾</p>
                    <input type="checkbox" id="ghost-8" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>é‡‘è‰²çŸ­é«®ï¼Œè—è‰²çœ¼çœ¸ï¼Œåƒå€‹é ‘çš®çš„å­©å­ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åœ¨å­¸ç”Ÿå­¸ç¿’æ™‚æŠ•ä¸‹å¾®å…‰è®“äººåˆ†å¿ƒï¼Œå–œæ­¡åœ¨ç›®æ¨™èº«é‚Šç•™ä¸‹æ˜Ÿé»å…‰ç—•ã€‚</p>
                    </div>
                    <label for="ghost-8" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 9. è¨˜æ†¶æ”¶è—å®¶ - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/kgv1XK3P/ji-yi-shou-cang-jia.png" alt="è¨˜æ†¶æ”¶è—å®¶ - æ“…é•·è¨˜æ†¶äº¤æ›çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">è¨˜æ†¶æ”¶è—å®¶</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šè¨˜æ†¶äº¤æ›</p>
                    <input type="checkbox" id="ghost-9" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>æ·±è¤æ²é«®ï¼Œé‡‘çµ²çœ¼é¡ï¼Œçœ¼ç¥å¹½æ·±ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åŸ·è‘—åœ°ä½”æœ‰ä¸¦æ”¶é›†ç›®æ¨™çš„è¨˜æ†¶ç¢ç‰‡ï¼Œå°è‡´å°æ–¹è¨˜æ†¶æ¨¡ç³Šä¸æ¸…ã€‚</p>
                    </div>
                    <label for="ghost-9" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 10. æš—å½±ç«Šè³Š - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/bJWLFRbb/an-ying-qie-zei.png" alt="æš—å½±ç«Šè³Š - æ“…é•·ç§˜å¯†ç«Šå–çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">æš—å½±ç«Šè³Š</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šç§˜å¯†ç«Šå–</p>
                    <input type="checkbox" id="ghost-10" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>æ¼†é»‘çŸ­é«®ï¼Œç´…å…‰ç³å­”ï¼Œæ¥µåº¦è²ªå©ªã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>æ½›å…¥å®¿èˆç«Šå–æ™®é€šç‰©å“ï¼Œåœ¨å°ˆå±¬ç©ºé–“å…§çè—é€™äº›æ“„ç²ä¹‹ç‰©ã€‚</p>
                    </div>
                    <label for="ghost-10" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 11. å¹»å½±ç·¨ç¹”è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/3xFSJm5M/huan-ying-bian-zhi-zhe.png" alt="å¹»å½±ç·¨ç¹”è€… - æ“…é•·å¹»è±¡è£½é€ çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¹»å½±ç·¨ç¹”è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¹»è±¡è£½é€ </p>
                    <input type="checkbox" id="ghost-11" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>éŠ€ç™½é•·é«®ï¼Œç´«è‰²çœ¼çœ¸ï¼Œæ¥µå¼·æ§åˆ¶æ¬²ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>å‰µé€ å„ç¨®å¹»è±¡å ´æ™¯ï¼Œå¹²æ“¾ç›®æ¨™çš„åˆ¤æ–·èˆ‡æ„ŸçŸ¥èƒ½åŠ›ã€‚</p>
                    </div>
                    <label for="ghost-11" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 12. å¤¢å¢ƒæ“æ§è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/kGSwrtFF/meng-jing-cao-kong-zhe.png" alt="å¤¢å¢ƒæ“æ§è€… - æ“…é•·å¤¢å¢ƒç¾å¯¦åŒ–çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¤¢å¢ƒæ“æ§è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¤¢å¢ƒç¾å¯¦åŒ–</p>
                    <input type="checkbox" id="ghost-12" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>å¦‚ç€‘éŠ€é«®ï¼Œç´«ç¾…è˜­çœ¼çœ¸ï¼Œçš®è†šç™½çš™é€æ˜ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åœ¨å¤¢å¢ƒä¸­æ§‹å»ºå„ç¨®å ´æ™¯ï¼Œé†’å¾Œæœƒè®“ç›®æ¨™æ®˜ç•™æ¨¡ç³Šçš„æ„ŸçŸ¥ç—•è·¡ã€‚</p>
                    </div>
                    <label for="ghost-12" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 13. å¤¢é­˜å®ˆæœ›è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/kGSwrtFy/meng-yan-shou-wang-zhe.png" alt="å¤¢é­˜å®ˆæœ›è€… - æ“…é•·å¤¢é­˜æ¤å…¥çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¤¢é­˜å®ˆæœ›è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šå¤¢é­˜æ¤å…¥</p>
                    <input type="checkbox" id="ghost-13" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>å¢¨é»‘çŸ­é«®ï¼Œæ·±ç´…çœ¼çœ¸ï¼Œå˜´è§’å¸¶è‘—é‚ªæ°£ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åªåœ¨åˆå¤œæ´»å‹•ï¼Œå¼•èª˜ç›®æ¨™é™·å…¥å¤¢å¢ƒï¼Œé†’ä¾†å¾Œåƒ…æ®˜ç•™æ¨¡ç³Šè¨˜æ†¶ã€‚</p>
                    </div>
                    <label for="ghost-13" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 14. å¸¶é ˜è¿·è·¯äºº - åˆè§„ä¿ç•™ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/0Qbcf462/dai-ling-mi-lu-ren.png" alt="å¸¶é ˜è¿·è·¯äºº - æ“…é•·è¨˜æ†¶äº¤æ›å°èˆªçš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å¸¶é ˜è¿·è·¯äºº</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šè¨˜æ†¶äº¤æ›å°èˆª</p>
                    <input type="checkbox" id="ghost-14" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>éŠ€é•·é«®ï¼Œæ·±è—çœ¼çœ¸ï¼Œå†·æ¼ å¦‚æ©Ÿå™¨ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>æŒ‡è·¯ä»£åƒ¹æ˜¯æŠ½å–ç›®æ¨™é›¶æ•£è¨˜æ†¶ï¼Œæ“æœ‰ä¸€é–“è£æ»¿è²éŸ³éŒ„åƒçš„å¯†å®¤ã€‚</p>
                    </div>
                    <label for="ghost-14" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 15. éºå¿˜ä¹‹ä½¿ - åˆè§„ä¿ç•™ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/GtDz0sJ5/yi-wang-zhi-shi.png" alt="éºå¿˜ä¹‹ä½¿ - æ“…é•·ææ‡¼æ¤å…¥çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">éºå¿˜ä¹‹ä½¿</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šææ‡¼æ¤å…¥</p>
                    <input type="checkbox" id="ghost-15" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>ç°ç™½é ­é«®ï¼Œæš—ç´…çœ¼çœ¸ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>è®“äººå¿˜è¨˜ç‰¹å®šäº‹æƒ…çš„åŒæ™‚ç”¢ç”Ÿæ–°ææ‡¼ï¼Œå–œæ­¡ç”¨å¿ƒç†æ§åˆ¶å½±éŸ¿å°æ–¹ã€‚</p>
                    </div>
                    <label for="ghost-15" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 16. é¡ä¸­å€’å½± - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/NFXbhr7W/jing-zhong-dao-ying.png" alt="é¡ä¸­å€’å½± - æ“…é•·é¡åƒå¹»è±¡çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">é¡ä¸­å€’å½±</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šé¡åƒå¹»è±¡</p>
                    <input type="checkbox" id="ghost-16" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>éŠ€è‰²çŸ­é«®ï¼Œé‡‘è‰²çœ¼çœ¸ï¼Œå®Œç¾ä¸»ç¾©è€…ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>åœ¨é¡ä¸­å‰µé€ å„ç¨®ç¾æ„Ÿå¹»è±¡ï¼Œå½±éŸ¿ç›®æ¨™çš„è¦–è¦ºèˆ‡æƒ³è±¡åŠ›ã€‚</p>
                    </div>
                    <label for="ghost-16" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
            <!-- 17. å˜†æ¯æ”¶é›†è€… - ç§»é™¤ä¸å½“æè¿°ï¼Œä¿ç•™åˆè§„å†…å®¹ -->
            <div class="ghost-card">
                <div class="ghost-img-box">
                    <img src="https://i.postimg.cc/j5mvkhN6/tan-xi-shou-ji-zhe.png" alt="å˜†æ¯æ”¶é›†è€… - æ“…é•·è²é »éŒ„è£½çš„æ™®é€šå¹½å½±">
                </div>
                <div class="ghost-content">
                    <div class="ghost-name-label">å˜†æ¯æ”¶é›†è€…</div>
                    <p class="text-xs text-gray-500">èº«åˆ†ï¼šæ™®é€šå¹½å½± | èƒ½åŠ›ï¼šè²é »éŒ„è£½</p>
                    <input type="checkbox" id="ghost-17" class="detail-input">
                    <div class="detail-pane">
                        <p class="mb-2"><span class="red-accent">ç‰¹å¾µï¼š</span>é»‘è‰²é•·é«®ï¼Œæš—ç´«çœ¼çœ¸ã€‚</p>
                        <p class="mb-2"><span class="red-accent">ç¿’æ€§ï¼š</span>éŒ„è£½äººå€‘çš„å˜†æ¯èˆ‡ä½èªè²ï¼Œç·¨ç¹”æˆè¼•æŸ”æ¨‚è²åœ¨èµ°å»Šé£„æ•£ã€‚</p>
                    </div>
                    <label for="ghost-17" class="trigger-btn">å±•é–‹æª”æ¡ˆè³‡æ–™</label>
                </div>
            </div>
        </div>
        <!-- LLMå ±å‘Šå€åŸŸï¼Œä¿ç•™å ä½ç¬¦ -->
        <section class="llm-report">{llm_content}</section>
        <!-- é è…³ -->
        <footer class="mt-20 text-center border-t pt-10 pb-10">
            <p class="text-gray-600 text-xs tracking-widest">ENCRYPTED DATA TERMINAL | ACCESS: LVL_7</p>
            <p class="text-red-900 italic mt-2">"The shadows are not just absence of light, they are the presence of desire."</p>
        </footer>
    </div>
    <!-- éŸ³é »æ’­æ”¾å™¨ï¼Œä¿ç•™å®Œæ•´åŠŸèƒ½ -->
    <div class="audio-player-fixed">
        <audio id="bgm" class="cg-audio-player" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" preload="auto" playsinline="" controls="" data-loop="all"></audio>
        <div class="cg-audio-controls" data-target="bgm">
            <button class="cg-audio-controls__btn" data-action="prev">â®</button>
            <button class="cg-audio-controls__btn" data-action="toggle">â¯</button>
            <button class="cg-audio-controls__btn" data-action="next">â­</button>
            <div class="cg-audio-progress">
                <div class="cg-audio-progress__bar"></div>
            </div>
            <button class="cg-audio-controls__btn" data-action="loop">ğŸ”</button>
        </div>
    </div>
</div>
<!-- éŸ³é »è¼”åŠ©è…³æœ¬ï¼Œä¿ç•™å®Œæ•´åŠŸèƒ½ -->
<script>
(function() {
  var autoPlayAttached = false;

  function bindPlayer(controls) {
    if (!controls) return;
    var targetId = (controls.getAttribute('data-target') || 'bgm').trim() || 'bgm';
    var audio = document.getElementById(targetId);
    if (!audio) return;

    if (!audio.hasAttribute('controls')) {
      audio.setAttribute('controls', 'controls');
    }
    if (!audio.preload) audio.preload = 'auto';

    var rawList = audio.getAttribute('data-playlist') || '';
    var trackInputs = Array.prototype.slice.call(
      controls.querySelectorAll('input.cg-audio-track[value]')
    );
    var tracks = [];
    var index = 0;

    function refreshTracks(forceIndexFromChecked) {
      if (trackInputs.length) {
        tracks = trackInputs
          .map(function(inp){ return (inp.value || '').trim(); })
          .filter(Boolean);
      } else {
        tracks = rawList.split(',').map(function(x){ return x.trim(); }).filter(Boolean);
      }
      if (!tracks.length) {
        if (audio.currentSrc) tracks = [audio.currentSrc];
        else if (audio.src) tracks = [audio.src];
      }
      if (trackInputs.length && forceIndexFromChecked) {
        var checkedIdx = -1;
        for (var i = 0; i < trackInputs.length; i++) {
          if (trackInputs[i].checked) { checkedIdx = i; break; }
        }
        index = checkedIdx >= 0 ? checkedIdx : 0;
      }
    }

    refreshTracks(true);

    function normalizeLoop(val) {
      if (!val) return 'all';
      val = val.toLowerCase();
      if (val === 'single') return 'single';
      if (val === 'off' || val === 'none') return 'off';
      return 'all';
    }
    var loopMode = normalizeLoop(audio.getAttribute('data-loop') || (audio.loop ? 'single' : ''));

    function applySrc() {
      if (!tracks.length) return;
      audio.src = tracks[index] || '';
    }

    function setActive(btn, active) {
      if (!btn) return;
      if (active) {
        btn.setAttribute('data-state', 'active');
        btn.classList.add('cg-audio-controls__btn--active');
      } else {
        btn.removeAttribute('data-state');
        btn.classList.remove('cg-audio-controls__btn--active');
      }
    }

    function markActiveTrack(i) {
      if (!trackInputs.length) return;
      trackInputs.forEach(function(inp, idx){
        inp.checked = idx === i;
        var item = inp.closest ? inp.closest('.cg-mb-list-item') : null;
        if (item) item.classList.toggle('cg-mb-list-item--active', idx === i);
      });
    }

    var prevBtn = controls.querySelector('[data-action="prev"]');
    var toggleBtn = controls.querySelector('[data-action="toggle"]');
    var nextBtn = controls.querySelector('[data-action="next"]');
    var loopBtn = controls.querySelector('[data-action="loop"]');
    var progress = controls.querySelector('.cg-audio-progress');
    var progressBar = controls.querySelector('.cg-audio-progress__bar');
    var isDragging = false;

    function playCurrent() {
      applySrc();
      audio.play().catch(function(){});
      setActive(toggleBtn, true);
      markActiveTrack(index);
    }

    function pauseCurrent() {
      audio.pause();
      setActive(toggleBtn, false);
    }

    function nextTrack() {
      if (!tracks.length) return;
      if (loopMode === 'off' && index >= tracks.length - 1) {
        pauseCurrent();
        return;
      }
      index = (index + 1) % tracks.length;
      playCurrent();
    }

    function prevTrack() {
      if (!tracks.length) return;
      if (loopMode === 'off' && index <= 0) {
        pauseCurrent();
        return;
      }
      index = (index - 1 + tracks.length) % tracks.length;
      playCurrent();
    }

    function setLoopMode(mode) {
      loopMode = normalizeLoop(mode);
      audio.loop = loopMode === 'single';
      updateLoopLabel();
    }

    function updateLoopLabel() {
      if (!loopBtn) return;
      var labels = { single: 'Single', all: 'Loop', off: 'Order' };
      loopBtn.textContent = labels[loopMode] || 'Loop';
      if (loopMode === 'off') loopBtn.removeAttribute('data-state');
      else loopBtn.setAttribute('data-state', 'active');
    }

    if (prevBtn) prevBtn.addEventListener('click', function(){ prevTrack(); });
    if (nextBtn) nextBtn.addEventListener('click', function(){ nextTrack(); });
    if (toggleBtn) toggleBtn.addEventListener('click', function(){
      if (audio.paused) playCurrent();
      else pauseCurrent();
    });
    if (loopBtn) {
      loopBtn.addEventListener('click', function(){
        if (loopMode === 'all') setLoopMode('single');
        else if (loopMode === 'single') setLoopMode('off');
        else setLoopMode('all');
      });
    }

    if (trackInputs.length) {
      controls.addEventListener('click', function(evt){
        var el = evt.target;
        var input = el && el.closest ? el.closest('input.cg-audio-track') : null;
        if (!input || !controls.contains(input)) return;
        refreshTracks(true);
        var val = (input.value || '').trim();
        var idx = tracks.indexOf(val);
        if (idx < 0) idx = trackInputs.indexOf(input);
        if (idx < 0) idx = 0;
        index = idx;
        playCurrent();
      });
      markActiveTrack(index);
    }

    if (progress && progressBar) {
      audio.addEventListener('timeupdate', function(){
        if (isDragging) return;
        if (audio.duration && isFinite(audio.duration)) {
          var percent = (audio.currentTime / audio.duration) * 100;
          progressBar.style.width = percent + '%';
        } else {
          progressBar.style.width = '0%';
        }
      });
      audio.addEventListener('loadedmetadata', function(){
        progressBar.style.width = '0%';
      });
      var seekByClientX = function(clientX) {
        if (!(progress instanceof HTMLElement)) return;
        var rect = progress.getBoundingClientRect();
        var ratio = (clientX - rect.left) / rect.width;
        ratio = Math.max(0, Math.min(1, ratio));
        if (audio.duration && isFinite(audio.duration)) {
          audio.currentTime = audio.duration * ratio;
          progressBar.style.width = (ratio * 100) + '%';
        }
      };
      var onDragMove = function(e) {
        if (!isDragging) return;
        if (e.touches && e.touches.length) {
          seekByClientX(e.touches[0].clientX);
        } else if (typeof e.clientX === 'number') {
          seekByClientX(e.clientX);
        }
      };
      var endDrag = function() {
        if (!isDragging) return;
        isDragging = false;
        window.removeEventListener('mousemove', onDragMove);
        window.removeEventListener('mouseup', endDrag);
        window.removeEventListener('touchmove', onDragMove);
        window.removeEventListener('touchend', endDrag);
      };
      var startDrag = function(e) {
        isDragging = true;
        if (e.touches && e.touches.length) {
          seekByClientX(e.touches[0].clientX);
        } else if (typeof e.clientX === 'number') {
          seekByClientX(e.clientX);
        }
        window.addEventListener('mousemove', onDragMove);
        window.addEventListener('mouseup', endDrag);
        window.addEventListener('touchmove', onDragMove, { passive: false });
        window.addEventListener('touchend', endDrag);
      };
      progress.addEventListener('mousedown', startDrag);
      progress.addEventListener('touchstart', function(e){
        startDrag(e);
        if (e.cancelable) e.preventDefault();
      }, { passive: false });
      progress.addEventListener('click', function(e){
        if (isDragging) return;
        if (!e || !e.currentTarget) return;
        var rect = e.currentTarget.getBoundingClientRect();
        var ratio = (e.clientX - rect.left) / rect.width;
        if (audio.duration && isFinite(audio.duration)) {
          audio.currentTime = Math.max(0, Math.min(audio.duration * ratio, audio.duration));
        }
      });
    }

    audio.addEventListener('ended', function() {
      if (loopMode === 'single') {
        playCurrent();
        return;
      }
      if (loopMode === 'off' && index >= tracks.length - 1) {
        pauseCurrent();
        return;
      }
      nextTrack();
    });

    if (!autoPlayAttached) {
      autoPlayAttached = true;
      var oncePlay = function() {
        if (audio.paused) playCurrent();
        window.removeEventListener('click', oncePlay);
      };
      var oncePlayTouch = function() {
        if (audio.paused) playCurrent();
        window.removeEventListener('touchstart', oncePlayTouch);
      };
      window.addEventListener('click', oncePlay);
      window.addEventListener('touchstart', oncePlayTouch, { passive: true });
    }

    applySrc();
    setLoopMode(loopMode);
  }

  var controlsList = Array.prototype.slice.call(document.querySelectorAll('.cg-audio-controls[data-target]'));
  if (!controlsList.length) return;
  controlsList.forEach(bindPlayer);
})();
</script>
</body>
</html>
